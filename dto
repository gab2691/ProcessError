@ExtendWith(MockitoExtension.class)
class FileServiceTest {

    @InjectMocks
    private FileService fileService;

    @Mock
    private ClassPathResource mockResource;

    @Mock
    private SidenavDTO sidenavDTO;

    @BeforeEach
    void setUp() throws IOException {
        // Configuração leniente para evitar o aviso de "unnecessary stubbings"
        String jsonContent = "{\"key\": \"value\"}";
        InputStream inputStream = new ByteArrayInputStream(
            jsonContent.getBytes(StandardCharsets.UTF_8));

        lenient().when(mockResource.exists()).thenReturn(true);
        lenient().when(mockResource.getInputStream()).thenReturn(inputStream);

        // Define os valores necessários para as propriedades anotadas com @Value na classe FileService
        ReflectionTestUtils.setField(fileService, "directoryFile",
            "C:\\Users\\T734536\\OneDrive - Santander Office 365\\Documents\\Workspace\\MDrepo\\docs\\docs");
        ReflectionTestUtils.setField(fileService, "mapPath", "/path/to/map-links-file");
        ReflectionTestUtils.setField(fileService, "treeViewFile", "/path/to/treeView-file");
    }
